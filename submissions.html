<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz Submissions</title>
    <link rel="stylesheet" href="brbnstyles.css" />
</head>

<body>
    <header>
        <h1>Past Quiz Submissions</h1>
        <p>Hereâ€™s what other tasters guessed.</p>
    </header>
    <main>
        <ul id="responseList" style="max-width: 600px; margin: auto;"></ul>
    </main>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
        import { getFirestore, collection, getDocs, query, orderBy } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyD5Dizm7ZH2JAKwCjzw6Xu8updGXY1aIQQ",
            authDomain: "bourbonquiz.firebaseapp.com",
            projectId: "bourbonquiz",
            storageBucket: "bourbonquiz.appspot.com",
            messagingSenderId: "931420990292",
            appId: "1:931420990292:web:fcd5770cc85381cc4e76c1"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        const q = query(collection(db, "quizResponses"), orderBy("timestamp", "desc"));
        const snapshot = await getDocs(q);

        const list = document.getElementById("responseList");
        snapshot.forEach((doc) => {
            const data = doc.data();
            const li = document.createElement("li");
            li.innerHTML = `<strong>${data.name || "Anonymous"}:</strong> Michter's: ${data.michters}, Heigold: ${data.heigold}, Uncle Nearest: ${data.uncleNearest}, Old Forester: ${data.oldForester}`;
            list.appendChild(li);
        });
    </script>
</body>

</html>